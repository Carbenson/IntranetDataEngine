"use strict";var customer_selector;!function(e){e.init=function(){MyModals.modal_send_sms.init(),e.TabRemark.init(),$(".scroll-content").slimScroll({height:"auto"}),$(".table-content").slimScroll({height:"auto;"}),$("#tab5_table_content").slimScroll({height:"370px;"})};!function(e){var r=function(){return function(){this.listRemarkModel=[],this.listRemarkRecord=[]}}(),t=function(){return function(){}}(),a=function(){return function(){}}(),n=function(){var e=new r,n=new t;n.id=1,n.remark="大吉大利！";var o=new t;o.id=2,o.remark="电话无人接听";var i=new t;i.id=3,i.remark="大吉大利！";var d=new t;d.id=4,d.remark="电话无人接听";var l=new t;l.id=5,l.remark="大吉大利！",e.listRemarkModel.push(n),e.listRemarkModel.push(o),e.listRemarkModel.push(i),e.listRemarkModel.push(d),e.listRemarkModel.push(l);var c=new a;c.author="吴彦祖",c.dateTime="2017-11-10",c.content="客户比我还帅。";var m=new a;m.author="刘德华",m.dateTime="2017-11-19",m.content="客户比我还帅。";var s=new a;s.author="欧阳震华",s.dateTime="2017-11-27",s.content="客户比我还帅。客户比我还帅。客户比我还帅。客户比我还帅。客户比我还帅。客户比我还帅。客户比我还帅。";var k=new a;k.author="吴彦祖",k.dateTime="2017-11-28",k.content="客户比我还帅。";var u=new a;return u.author="吴彦祖",u.dateTime="2017-11-29",u.content="客户比我还帅。",e.listRemarkRecord.push(c),e.listRemarkRecord.push(m),e.listRemarkRecord.push(s),e.listRemarkRecord.push(k),e.listRemarkRecord.push(u),e},o={divContainerRemarkModel:$("#model_container_remark")[0],divContainerRemarkRecord:$("#remark_record")[0],listRemarkModel:[],listRemarkRecord:[],textarea:document.getElementById("textarea_remark_content"),btnSendRemark:$("#btn_send_remark")[0]};e.init=function(){o.divContainerRemarkModel=$("#model_container_remark")[0],o.textarea=document.getElementById("textarea_remark_content"),o.btnSendRemark=$("#btn_send_remark")[0],c(),m(),i(),d(),l()};var i=function(){var r=n();o.listRemarkModel=r.listRemarkModel,MyModals.modal_create_remark_model.init(o.listRemarkModel.length),o.listRemarkModel.forEach(function(r){e.addModelHtml(r)})},d=function(){var r=n();o.listRemarkRecord=r.listRemarkRecord,o.listRemarkRecord.forEach(function(r){e.addRecordHtml(r)})},l=function(){$(o.divContainerRemarkRecord).slimScroll({height:"380px;",start:"top"}),$(o.btnSendRemark).on("click",function(){var e=o.textarea.value.trim(),r=new a;r.author="刘德华",r.content=e,r.dateTime=(new Date).toLocaleString(),R(r)})},c=function(){o.divContainerRemarkModel.innerHTML=""},m=function(){o.divContainerRemarkRecord.innerHTML=""};e.addModelData=function(e){o.listRemarkModel.push(e)},e.addRecordData=function(e){o.listRemarkRecord.push(e)},e.addModelHtml=function(e){var r=s(e);o.divContainerRemarkModel.insertAdjacentHTML("beforeend",r);var t=$(o.divContainerRemarkModel).find("#remark_model_"+e.id)[0],a=$(t).find(".model-remark");a.data("data",e),a.on("click",function(){var e=a.data("data");o.textarea.value=e.remark}),$(t).find(".icon-close").on("click",function(){u(e,t)})},e.addRecordHtml=function(e){var r=k(e);o.divContainerRemarkRecord.insertAdjacentHTML("afterbegin",r)};var s=function(e){return['<div id="remark_model_'+e.id+'" class="row">','    <div class="model-remark">',"        "+e.remark,'        <div class="hover-show">','            <div class="triangle"></div>',"            "+e.remark,"        </div>","    </div>",'    <i class="icon-close"></i>',"</div>"].join("")},k=function(e){return['<div class="remark-record">','    <div class="remark-author">','        <p class="p-value font-size-16">'+e.author+"</p>","    </div>",'    <div class="remark-content">','        <div class="record-1">',"            <p>"+e.dateTime+"</p>","            <div>"+e.content+"</div>","        </div>","    </div>","</div>"].join("")},u=function(e,r){for(var t=0;t<o.listRemarkModel.length;t++)if(o.listRemarkModel[t].id===e.id){o.listRemarkModel.splice(t,1),MyModals.modal_create_remark_model.addExistModelCount(-1);break}r.remove()},R=function(r){e.addRecordHtml(r),$(o.divContainerRemarkRecord).slimScroll({scrollTo:"0px"}),o.textarea.value=""}}(e.TabRemark||(e.TabRemark={}))}(customer_selector||(customer_selector={}));